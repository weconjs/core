import{r as t,u as g,j as e,B as y,R as v,S as j,G as N,m as l}from"./index-C1UW7SQ3.js";import{L as b,a as c}from"./api-Cos33Dpe.js";function S(){const[i,d]=t.useState({modules:0,routes:0,config:!1}),[m,u]=t.useState(!0),[o,x]=t.useState(null),p=g();if(t.useEffect(()=>{(async()=>{var r,n;try{const[a,h]=await Promise.all([c.get("/modules"),c.get("/routes")]);d({modules:((r=a.data)==null?void 0:r.length)??0,routes:((n=h.data)==null?void 0:n.length)??0,config:!0})}catch(a){x(a.message||"Failed to connect to DevTools API")}finally{u(!1)}})()},[]),m)return e.jsx("div",{className:"flex h-full items-center justify-center",children:e.jsx(b,{className:"size-8 animate-spin text-primary"})});if(o)return e.jsx("div",{className:"flex h-full items-center justify-center",children:e.jsxs("div",{className:"rounded-primary border border-primary bg-secondary p-8 text-center",children:[e.jsx("div",{className:"mb-3 text-lg font-semibold text-primary",children:"Connection Error"}),e.jsx("p",{className:"text-sm text-secondary",children:o}),e.jsx("p",{className:"mt-2 text-xs text-secondary",children:"Make sure your Wecon app is running with devtools enabled."})]})});const f=[{title:"Modules",value:i.modules,icon:y,description:"Registered application modules",path:"/modules"},{title:"Routes",value:i.routes,icon:v,description:"API route endpoints (RAIs)",path:"/routes"},{title:"Config",value:"View",icon:j,description:"Application configuration",path:"/config"},{title:"I18n",value:"Manage",icon:N,description:"Translation namespaces",path:"/i18n"}];return e.jsxs(l.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},className:"flex size-full flex-col gap-6 overflow-y-auto p-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-primary",children:"Wecon DevTools"}),e.jsx("p",{className:"mt-1 text-sm text-secondary",children:"Inspect and manage your application modules, routes, config, and translations."})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:f.map(s=>e.jsxs(l.div,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>p(s.path),className:"flex cursor-pointer flex-col gap-3 rounded-primary border border-primary bg-secondary p-5 shadow-small transition-shadow hover:shadow-medium",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(s.icon,{className:"size-5 text-secondary"}),e.jsx("span",{className:"text-2xl font-bold text-primary",children:s.value})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-primary",children:s.title}),e.jsx("div",{className:"text-xs text-secondary",children:s.description})]})]},s.title))})]})}export{S as default};
