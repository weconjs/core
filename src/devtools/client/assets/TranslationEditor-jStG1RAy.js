import{c as N,a as S,r as i,u as w,j as e,m as x}from"./index-C1UW7SQ3.js";import{a as y,L as f}from"./api-Cos33Dpe.js";import{A as z}from"./arrow-left-DJopkT8h.js";/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=N("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);function $(){const{namespace:s,lang:t}=S(),[o,l]=i.useState({}),[u,h]=i.useState(!0),[c,d]=i.useState(!1),[b,m]=i.useState(!1),j=w();i.useEffect(()=>{!s||!t||y.get(`/i18n/${s}/${t}`).then(a=>{var r;return l(((r=a.data)==null?void 0:r.translations)??a.data??{})}).catch(console.error).finally(()=>h(!1))},[s,t]);const v=(a,r)=>{l(n=>({...n,[a]:r})),m(!0)},g=async()=>{if(!(!s||!t)){d(!0);try{await y.put(`/i18n/${s}/${t}`,{translations:o}),m(!1)}catch(a){console.error(a)}finally{d(!1)}}};if(u)return e.jsx("div",{className:"flex h-full items-center justify-center",children:e.jsx(f,{className:"size-8 animate-spin text-primary"})});const p=Object.entries(o);return e.jsxs(x.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},className:"flex size-full flex-col gap-6 overflow-y-auto p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>j("/i18n"),className:"flex size-8 items-center justify-center rounded-secondary border border-primary transition-colors hover:bg-primary",children:e.jsx(z,{className:"size-4 text-primary"})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-primary",children:[s," / ",t==null?void 0:t.toUpperCase()]}),e.jsxs("p",{className:"text-sm text-secondary",children:[p.length," keys"]})]})]}),b&&e.jsxs(x.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},whileTap:{scale:.95},onClick:g,disabled:c,className:"flex items-center gap-2 rounded-secondary bg-btn-primary px-4 py-2 text-sm font-medium text-btn-primary transition-opacity hover:opacity-90 disabled:opacity-50",children:[c?e.jsx(f,{className:"size-4 animate-spin"}):e.jsx(C,{className:"size-4"}),"Save"]})]}),e.jsx("div",{className:"flex flex-col gap-2",children:p.map(([a,r])=>e.jsxs("div",{className:"flex flex-col gap-1 rounded-secondary border border-primary bg-secondary p-3 sm:flex-row sm:items-center sm:gap-4",children:[e.jsx("label",{className:"min-w-[200px] text-xs font-semibold text-primary",children:a}),e.jsx("input",{type:"text",value:r,onChange:n=>v(a,n.target.value),className:"w-full rounded-tertiary border border-primary bg-primary px-3 py-1.5 text-sm text-primary outline-none focus:border-blue-500"})]},a))})]})}export{$ as default};
