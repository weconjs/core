import{r,a as b,j as e,m as f}from"./index-DoHRi03N.js";import{C as p}from"./CopyButton-DIdtJD4_.js";import{L as g}from"./loader-circle-DoOjJ8vr.js";import{S as j}from"./search-CpTZ4fXm.js";import"./copy-BvbhBv2y.js";const N={GET:"bg-green-100 text-green-700",POST:"bg-blue-100 text-blue-700",PUT:"bg-yellow-100 text-yellow-700",PATCH:"bg-orange-100 text-orange-700",DELETE:"bg-red-100 text-red-700"};function E(){const[s,m]=r.useState([]),[h,y]=r.useState(!0),[a,u]=r.useState(""),[l,d]=r.useState("all");if(r.useEffect(()=>{b.get("/routes").then(t=>m(t.data??[])).catch(console.error).finally(()=>y(!1))},[]),h)return e.jsx("div",{className:"flex h-full items-center justify-center",children:e.jsx(g,{className:"size-8 animate-spin text-primary"})});const o=[...new Set(s.map(t=>t.module).filter(Boolean))],i=s.filter(t=>{const c=l==="all"||t.module===l,n=!a||t.path.toLowerCase().includes(a.toLowerCase())||t.rai.toLowerCase().includes(a.toLowerCase())||t.method.toLowerCase().includes(a.toLowerCase());return c&&n});return e.jsxs(f.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},className:"flex size-full flex-col gap-5 overflow-y-auto p-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-primary",children:"Routes"}),e.jsx("p",{className:"mt-1 text-sm text-secondary",children:i.length===s.length?`${s.length} endpoint${s.length!==1?"s":""}`:`${i.length} of ${s.length} endpoints`})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(j,{className:"absolute left-3 top-1/2 size-4 -translate-y-1/2 text-secondary"}),e.jsx("input",{type:"text",placeholder:"Search by path, RAI, or method...",value:a,onChange:t=>u(t.target.value),className:"w-full rounded-secondary border border-primary bg-secondary py-2 pl-9 pr-4 text-sm text-primary outline-none focus:border-blue-500"})]}),o.length>1&&e.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[e.jsx("button",{onClick:()=>d("all"),className:`rounded-full px-3 py-1 text-xs font-medium transition-colors ${l==="all"?"bg-btn-active-primary text-btn-primary":"border border-primary text-secondary hover:bg-primary hover:text-primary"}`,children:"All"}),o.map(t=>e.jsx("button",{onClick:()=>d(t),className:`rounded-full px-3 py-1 text-xs font-medium transition-colors ${l===t?"bg-btn-active-primary text-btn-primary":"border border-primary text-secondary hover:bg-primary hover:text-primary"}`,children:t},t))]})]}),e.jsx("div",{className:"overflow-auto rounded-primary border border-primary",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-primary bg-primary text-left text-xs text-secondary",children:[e.jsx("th",{className:"px-4 py-3",children:"Method"}),e.jsx("th",{className:"px-4 py-3",children:"Path"}),e.jsx("th",{className:"px-4 py-3",children:"RAI"}),o.length>0&&e.jsx("th",{className:"px-4 py-3",children:"Module"}),e.jsx("th",{className:"px-4 py-3",children:"Roles"})]})}),e.jsx("tbody",{children:i.map((t,c)=>{var n;return e.jsxs("tr",{className:"border-b border-primary bg-secondary last:border-0",children:[e.jsx("td",{className:"px-4 py-2.5",children:e.jsx("span",{className:`inline-block rounded px-2 py-0.5 text-xs font-semibold ${N[t.method.toUpperCase()]??"bg-gray-100 text-gray-700"}`,children:t.method.toUpperCase()})}),e.jsx("td",{className:"px-4 py-2.5",children:e.jsxs("div",{className:"group flex items-center gap-1.5",children:[e.jsx("span",{className:"font-mono text-xs text-primary",children:t.path}),e.jsx("span",{className:"opacity-0 transition-opacity group-hover:opacity-100",children:e.jsx(p,{value:t.path})})]})}),e.jsx("td",{className:"px-4 py-2.5",children:e.jsxs("div",{className:"group flex items-center gap-1.5",children:[e.jsx("span",{className:"font-mono text-xs text-secondary",children:t.rai}),e.jsx("span",{className:"opacity-0 transition-opacity group-hover:opacity-100",children:e.jsx(p,{value:t.rai})})]})}),o.length>0&&e.jsx("td",{className:"px-4 py-2.5",children:t.module&&e.jsx("span",{className:"rounded-full bg-primary px-2 py-0.5 text-xs text-secondary",children:t.module})}),e.jsx("td",{className:"px-4 py-2.5",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:(n=t.roles)==null?void 0:n.map(x=>e.jsx("span",{className:"rounded-full bg-primary px-2 py-0.5 text-xs text-secondary",children:x},x))})})]},c)})})]})})]})}export{E as default};
