import{c as A,r as o,u as S,j as e,B as E,R as C,S as I,G as k,m as h,a as i}from"./index-DoHRi03N.js";import{L as M}from"./loader-circle-DoOjJ8vr.js";/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=A("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),L={development:"bg-green-100 text-green-700",staging:"bg-yellow-100 text-yellow-700",production:"bg-red-100 text-red-700"};function D(){const[a,y]=o.useState(null),[n,g]=o.useState({modules:0,routes:0,namespaces:0}),[f,v]=o.useState(!0),[c,b]=o.useState(null),d=S();if(o.useEffect(()=>{(async()=>{var r,m,p,x,u;try{const[l,N,w,R]=await Promise.all([i.get("/modules"),i.get("/routes"),i.get("/config"),i.get("/i18n").catch(()=>({data:[]}))]),s=w.data;y({name:((r=s==null?void 0:s.app)==null?void 0:r.name)??"Wecon App",version:((m=s==null?void 0:s.app)==null?void 0:m.version)??"0.0.0",mode:(s==null?void 0:s.mode)??"development"}),g({modules:((p=l.data)==null?void 0:p.length)??0,routes:((x=N.data)==null?void 0:x.length)??0,namespaces:((u=R.data)==null?void 0:u.length)??0})}catch(l){b(l.message||"Failed to connect to DevTools API")}finally{v(!1)}})()},[]),f)return e.jsx("div",{className:"flex h-full items-center justify-center",children:e.jsx(M,{className:"size-8 animate-spin text-primary"})});if(c)return e.jsx("div",{className:"flex h-full items-center justify-center",children:e.jsxs("div",{className:"rounded-primary border border-primary bg-secondary p-8 text-center",children:[e.jsx("div",{className:"mb-3 text-lg font-semibold text-primary",children:"Connection Error"}),e.jsx("p",{className:"text-sm text-secondary",children:c}),e.jsx("p",{className:"mt-2 text-xs text-secondary",children:"Make sure your Wecon app is running with devtools enabled."})]})});const j=[{title:"Modules",value:n.modules,icon:E,description:"Registered application modules",path:"/modules",color:"text-blue-500"},{title:"Routes",value:n.routes,icon:C,description:"API route endpoints (RAIs)",path:"/routes",color:"text-green-500"},{title:"Config",value:"Edit",icon:I,description:"Application configuration",path:"/config",color:"text-orange-500"},{title:"I18n",value:n.namespaces||"Manage",icon:k,description:"Translation namespaces",path:"/i18n",color:"text-purple-500"}];return e.jsxs(h.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},className:"flex size-full flex-col gap-6 overflow-y-auto p-6",children:[a&&e.jsxs("div",{className:"flex items-center justify-between rounded-primary border border-primary bg-secondary p-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-primary",children:a.name}),e.jsxs("p",{className:"mt-1 text-sm text-secondary",children:["v",a.version," Â· Wecon DevTools"]})]}),e.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold ${L[a.mode]??"bg-gray-100 text-gray-700"}`,children:a.mode})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:j.map((t,r)=>e.jsxs(h.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:r*.05},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>d(t.path),className:"flex cursor-pointer flex-col gap-3 rounded-primary border border-primary bg-secondary p-5 shadow-small transition-shadow hover:shadow-medium",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(t.icon,{className:`size-5 ${t.color}`}),e.jsx("span",{className:"text-2xl font-bold text-primary",children:t.value})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-primary",children:t.title}),e.jsx("div",{className:"text-xs text-secondary",children:t.description})]})]},t.title))}),e.jsxs("div",{children:[e.jsx("h2",{className:"mb-3 text-sm font-semibold text-secondary",children:"Quick Actions"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:[{label:"Edit Config",path:"/config"},{label:"Manage Translations",path:"/i18n"},{label:"View All Routes",path:"/routes"}].map(t=>e.jsxs("button",{onClick:()=>d(t.path),className:"flex items-center gap-2 rounded-secondary border border-primary bg-secondary px-4 py-2.5 text-sm text-primary transition-shadow hover:shadow-small",children:[t.label,e.jsx(z,{className:"size-3.5 text-secondary"})]},t.path))})]})]})}export{D as default};
