import{a as d,r as a,u as x,j as e,m}from"./index-BjgISQg5.js";import{a as p,L as u}from"./api-CvtLmLuv.js";import{A as f}from"./arrow-left-C26_8YjI.js";function b(){const{name:t}=d(),[s,l]=a.useState(null),[o,n]=a.useState(!0),i=x();return a.useEffect(()=>{t&&p.get(`/modules/${t}`).then(r=>l(r.data)).catch(console.error).finally(()=>n(!1))},[t]),o?e.jsx("div",{className:"flex h-full items-center justify-center",children:e.jsx(u,{className:"size-8 animate-spin text-primary"})}):s?e.jsxs(m.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},className:"flex size-full flex-col gap-6 overflow-y-auto p-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>i("/modules"),className:"flex size-8 items-center justify-center rounded-secondary border border-primary transition-colors hover:bg-primary",children:e.jsx(f,{className:"size-4 text-primary"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-primary",children:s.name}),e.jsxs("p",{className:"text-sm text-secondary",children:["namespace: ",s.namespace," Â· ",s.routeCount," routes"]})]})]}),s.description&&e.jsx("p",{className:"text-sm text-secondary",children:s.description}),s.hasConfig&&s.configValues&&e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("h2",{className:"text-lg font-semibold text-primary",children:"Config"}),e.jsx("pre",{className:"overflow-auto rounded-secondary border border-primary bg-primary p-4 text-xs text-primary",children:JSON.stringify(s.configValues,null,2)})]}),s.routes&&s.routes.length>0&&e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("h2",{className:"text-lg font-semibold text-primary",children:"Routes"}),e.jsx("div",{className:"overflow-auto rounded-secondary border border-primary",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-primary bg-primary text-left text-xs text-secondary",children:[e.jsx("th",{className:"px-4 py-2",children:"Method"}),e.jsx("th",{className:"px-4 py-2",children:"Path"}),e.jsx("th",{className:"px-4 py-2",children:"RAI"})]})}),e.jsx("tbody",{children:s.routes.map((r,c)=>e.jsxs("tr",{className:"border-b border-primary last:border-0",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx(h,{method:r.method})}),e.jsx("td",{className:"px-4 py-2 font-mono text-xs text-primary",children:r.path}),e.jsx("td",{className:"px-4 py-2 font-mono text-xs text-secondary",children:r.rai})]},c))})]})})]})]}):e.jsx("div",{className:"flex h-full items-center justify-center",children:e.jsx("p",{className:"text-secondary",children:"Module not found"})})}function h({method:t}){const s={GET:"bg-green-100 text-green-700",POST:"bg-blue-100 text-blue-700",PUT:"bg-yellow-100 text-yellow-700",PATCH:"bg-orange-100 text-orange-700",DELETE:"bg-red-100 text-red-700"};return e.jsx("span",{className:`inline-block rounded px-2 py-0.5 text-xs font-semibold ${s[t.toUpperCase()]??"bg-gray-100 text-gray-700"}`,children:t.toUpperCase()})}export{b as default};
